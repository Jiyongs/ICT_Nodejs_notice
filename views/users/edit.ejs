<!-- views/users/edit.ejs -->
<!-- 회원가입 정보 수정 화면 구성 -->

<!DOCTYPE html>
<html>
 <head>
  <% include ../partials/head %>
 </head>
 <body>
  <% include ../partials/nav %>

  <div class="container user user-edit">

   <div class="buttons">
    <a class="btn btn-default" href="/users/<%= username %>">Back</a>
   </div>

   <form class="user-form form-horizontal" action="/users/<%= username %>?_method=put" method="post">
    <div class="contentBox">
     <h3 class="contentBoxTop">정보 수정</h3>
     <fieldset>
      <div class="form-group <%= (errors.currentPassword)?'has-error':'' %>">
       <label for="currentPassword" class="col-sm-12 control-label">현재 비밀번호*</label>
       <div class="col-sm-9 col-sm-offset-3">
        <input class="form-control" type="password" id="currentPassword" name="currentPassword" value="">
        <% if(errors.currentPassword){ %>
         <span class="help-block"><%= errors.currentPassword.message %></span>
        <% } %>
       </div>
      </div>
      <hr></hr>
      <div class="form-group <%= (errors.username)?'has-error':'' %>">
       <label for="username" class="col-sm-3 control-label">ID*</label>
       <div class="col-sm-9">
        <input class="form-control" type="text" id="username" name="username" value="<%= user.username %>">
        <% if(errors.username){ %>
         <span class="help-block"><%= errors.username.message %></span>
        <% } %>
       </div>
      </div>
      <div class="form-group <%= (errors.name)?'has-error':'' %>">
       <label for="name" class="col-sm-3 control-label">이름*</label>
       <div class="col-sm-9">
        <input class="form-control" type="text" id="name" name="name" value="<%= user.name %>">
        <% if(errors.name){ %>
         <span class="help-block"><%= errors.name.message %></span>
        <% } %>
       </div>
      </div>
      <div class="form-group <%= (errors.email)?'has-error':'' %>">
       <label for="email" class="col-sm-3 control-label">Email</label>
       <div class="col-sm-9">
        <input class="form-control" type="text" id="email" name="email" value="<%= user.email %>">
        <% if(errors.email){ %>
         <span class="help-block"><%= errors.email.message %></span>
        <% } %>
       </div>
      </div>
      <div class="form-group <%= (errors.newPassword)?'has-error':'' %>">
       <label for="newPassword" class="col-sm-12 control-label">새 비밀번호</label>
       <div class="col-sm-9 col-sm-offset-3">
        <input class="form-control" type="password" id="newPassword" name="newPassword" value="">
        <% if(errors.newPassword){ %>
         <span class="help-block"><%= errors.newPassword.message %></span>
        <% } %>
       </div>
      </div>
      <div class="form-group <%= (errors.passwordConfirmation)?'has-error':'' %>">
       <label for="passwordConfirmation" class="col-sm-12 control-label">비밀번호 확인</label>
       <div class="col-sm-9 col-sm-offset-3">
        <input class="form-control" type="password" id="passwordConfirmation" name="passwordConfirmation" value="">
        <% if(errors.passwordConfirmation){ %>
         <span class="help-block"><%= errors.passwordConfirmation.message %></span>
        <% } %>
       </div>
      </div>
      <p>
       <small>*필수항목</small>
      </p>
     </fieldset>
    </div>
    <div class="buttons">
     <button type="submit" class="btn btn-default">수정</button>
    </div>
    <% if(errors.unhandled){ %>
     <div class="alert alert-danger">
      <%= errors.unhandled %>
     </div>
    <% } %>
   </form>

  </div> <!-- container end -->
 </body>
</html>